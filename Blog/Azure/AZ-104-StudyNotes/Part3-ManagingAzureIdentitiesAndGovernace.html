<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
        http-equiv="Content-Security-Policy"
          content="script-src 'self' 'unsafe-inline' https://www.sixsideddice.com https://cdn.jsdelivr.net https://kit.fontawesome.com https://code.jquery.com https://www.googletagmanager.com;" />

    <link href="/favicon.ico" rel="icon" type="image/x-icon">
    <title>AZ-104 Study Guide: Part 3 - Azure Identities and Governance - SixSidedDice.com - Blog</title>
    <link rel="stylesheet" href="https://www.sixsideddice.com/css//bootstrapdarkly.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism-okaidia.css" integrity="sha256-nwDipdLn93O1CZGoRDor0i4CLmDQb+mdg/yaYMUCuLM=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.sixsideddice.com/css/site.css">
    <link rel="stylesheet" href="/Blog/site.css">
    <script src="https://kit.fontawesome.com/d22effaf67.js" crossorigin="anonymous"></script>
    <script type="module" src="https://www.sixsideddice.com/js/header.js"></script>
    <script type="module" src="https://www.sixsideddice.com/js/footer.js"></script>
    
    
    <!-- Meta -->
    <meta name="robots" content="index, follow">
    <meta name="description" content="Part 3 of the Azure Administrator study guide focusing on managing Azure Identities and governance">
    <meta name="author" content="Lee Sanderson">
    <meta name="copyright" content="Lee Sanderson">
    <meta name="keywords" content="AZ104 Concepts AD">
    <link rel="me" type="text/html" href="https://twitter.com/SixSidedDev">
    <link rel="me" type="text/html" href="https://github.com/LeeSanderson">
    <link rel="me" type="text/html" href="https://www.linkedin.com/in/lee-sanderson">
    <link rel="canonical" href="https://www.sixsideddice.com/Blog/Azure/AZ-104-StudyNotes/Part3-ManagingAzureIdentitiesAndGovernace.html">
    <!-- Twitter card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@SixSidedDev">
    <meta name="twitter:creator" content="@SixSidedDev">
    <meta name="twitter:title" content="AZ-104 Study Guide: Part 3 - Azure Identities and Governance">
    <meta name="twitter:description" content="Part 3 of the Azure Administrator study guide focusing on managing Azure Identities and governance">
    <meta name="twitter:image" content="https://www.sixsideddice.com/Blog/Azure/AZ-104-StudyNotes/Part3-ManagingAzureIdentitiesAndGovernace.png">
    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta name="title" property="og:title" content="AZ-104 Study Guide: Part 3 - Azure Identities and Governance">
    <meta name="description" property="og:description" content="Part 3 of the Azure Administrator study guide focusing on managing Azure Identities and governance">
    <meta name="image" property="og:image" content="https://www.sixsideddice.com/Blog/Azure/AZ-104-StudyNotes/Part3-ManagingAzureIdentitiesAndGovernace.png">
    <meta property="og:url" content="https://www.sixsideddice.com/Blog/Azure/AZ-104-StudyNotes/Part3-ManagingAzureIdentitiesAndGovernace.html">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7PG42VD9X0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7PG42VD9X0');
    </script>
    <!-- End Google Tag Manager -->
</head>
<body>
    <six-sided-header></six-sided-header>
    <div class="container">
        <main role="main" class="pb-3">
            
<div class="article-header">
    <span class="article-date">Aug 09, 2022</span>
    
    <span class="article-tags">
        <span class="badge badge-info">AZ104</span>
        <span class="badge badge-info">Concepts</span>
        <span class="badge badge-info">AD</span>
    </span>
</div>
<div data-pagefind-body>
<h1 id="managing-azure-identities-and-governance" class="sr-only" data-hero-heading="true">Managing Azure Identities and Governance</h1>
<img class="hero-image" src="Part3-ManagingAzureIdentitiesAndGovernace.png" alt="Managing Azure Identities and Governance"/>
<p>The <a href="https://docs.microsoft.com/en-us/certifications/azure-administrator/" target="_blank">AZ-104: Azure Administrator Associate</a> certification requires subject matter expertise in implementing, managing, and monitoring an organization's Microsoft Azure environment, including virtual networks, storage, compute, identity, security, and governance.</p>
<p>In part 3 of the guide we will cover managing Azure Identities and governance which accounts for 15-20% of the exam score.</p>
<h2 id="azure-active-directory">Azure Active Directory</h2>
<p>Azure Active Directory (Azure AD), part of <a href="https://www.microsoft.com/en-gb/security/business/microsoft-entra?rtc=1" target="_blank">Microsoft Entra</a>, is an enterprise identity service that provides single sign-on, multi-factor authentication, and conditional access to guard against 99.9 percent of cybersecurity attacks.</p>
<p>An on-premise Active Directory (also known as Windows Active Directory) offers different functionality to Azure Active Directory (such as LDAP). Synchronisation can be setup between Windows AD and Azure AD to enable single-sign on capabilities. Azure AD is focused towards web applications and web use cases.</p>
<p>An Azure Active Directory is automatically created when creating an Azure Subscription.</p>
<h3 id="azure-active-directory-pricing-tiers">Azure Active Directory Pricing Tiers</h3>
<p>Azure Active Directory has 3 main pricing tiers: Free, Premium 1 (P1) and Premium 2 (P2).</p>
<p>The free tier allows creating of up to 50,000 objects (users, groups, etc) and many of the capabilities of the other tiers.</p>
<p>P1 and P2 offer more capabilities such as:</p>
<ul>
<li>Custom logos</li>
<li>Custom banned passwords</li>
<li>Self-service passwords</li>
<li>Group access management</li>
<li>Advanced security and usage reports</li>
<li>Dynamic groups</li>
<li>Azure Information Protection integration</li>
<li>SharePoint limited access</li>
<li>Terms of Use</li>
<li>Microsoft Cloud App Security Integration</li>
</ul>
<p>P2 also offers additional capabilities:</p>
<ul>
<li>Vulnerabilities and risky accounts detection</li>
<li>Risky events integration</li>
<li>Risk-based conditional access policies</li>
</ul>
<h2 id="basic-concepts">Basic Concepts</h2>
<ul>
<li>Account / User
<ul>
<li>A person or a program, the basis for authentication</li>
<li>Person e.g. Joe Smith - joe@example.com = user name, password, multi-factor authentication</li>
<li>Program e.g. App or Managed Identity = representation of a program or service</li>
</ul>
</li>
<li>Tenant
<ul>
<li>A representation of an organisation</li>
<li>Usually represented by a unique public domain name i.e. example.com</li>
<li>Will be assigned a domain if not specified i.e. example.onmicrosoft.com</li>
<li>A dedicated instance of Azure Active Directory</li>
<li>Every Azure Account is part of at least one tenant.</li>
<li>Tenants can have multiple account.</li>
</ul>
</li>
<li>Subscription
<ul>
<li>An agreement with Microsoft to use Azure services, and how you are going to pay for those service.</li>
<li>All azure resource get billed o the payment method of the subscription</li>
<li>Multiple types of subscription are available (free, pay-as-you-go, enterprise etc.)</li>
<li>Subscriptions can be assigned to a tenant. Not all tenants have subscriptions. Tenants my have multiple subscriptions.</li>
</ul>
</li>
<li>Resource Group
<ul>
<li>A group for resources within a subscription</li>
<li>All resources (VMs, web apps, storage accounts, public IP addresses, network interface cards, network security groups etc.) must belong to a resource group</li>
<li>When a resource group is deleted all resources in that group are also deleted.</li>
</ul>
</li>
</ul>
<h2 id="creating-an-azure-active-directory-tenant">Creating an Azure Active Directory Tenant</h2>
<ul>
<li>Go to the <code>Azure Active Directory</code> resource in the Azure Portal</li>
<li>In the <code>Overview</code> panel, select the <code>Manage tenants</code> option</li>
<li>In the <code>Switch tenant</code> page, select the <code>+ Create</code> option</li>
<li>Select Azure Active Directory or Azure Active Directory (B2C)</li>
<li>Enter the org name, unique initial domain (xxx.onmicrosoft.com), and select the region where the AD data will be stored (taking into account any data sovereignty issues)</li>
<li>Complete the CAPTCHA (if required)</li>
<li>The tenant will be created, this may take a few minutes</li>
<li>You will be create as the Global Administrator in the new tenant and can add other users and groups as needed.</li>
</ul>
<p>To switch back to the original tenant you can go back into the <code>Switch tenant</code> page, select a tenant and click <code>Switch</code> or select the setting cog icon and switch to the tenant from the settings page.</p>
<h3 id="add-custom-domains">Add Custom Domains</h3>
<p>By default, the domain associated with the tenant will be xxx.onmicrosoft.com.</p>
<p>Custom domains can be added by going to the <code>Custom domain names</code> page. To prove that you own the custom domain name you need to add a TXT or MX record to the domain. Once a custom domain has been verified, it can be set as the primary.</p>
<h3 id="upgrade-to-premium-p2">Upgrade to Premium P2</h3>
<p>The option to upgrade to a Premium P2 trial for 30 days is not clearly displayed in the Azure Portal. The easiest way to access the upgrade is to select a feature from the menu that is not part of the free tier such as <code>Password reset</code>. If you have not selected this feature yet, then you can click on the <code>Get a free Premium trail to use this feature</code> link to activate a 30 day trail. After the trial expires the tenant will revert to the Free tier.</p>
<p>It may take some time after the upgrade has been applied before the features become available in the Azure portal.</p>
<h3 id="manage-azure-ad-licenses">Manage Azure AD Licenses</h3>
<p>New feature of the P1 and P2 plans are not automatically allocated to users. To allocate a feature to a user you must select the <code>Licenses</code> menu item of the AD tenant. You can then select specific <code>Licensed features</code> and allocate used or groups to tiers via the <code>All products</code> menu item.</p>
<h3 id="azure-ad-join">Azure AD Join</h3>
<p>Azure AD join is a mechanism for extending an on-prem Windows Active Directory to allow some users to login via the cloud-first Azure AD and use Azure AD as the sign-in authentication service for Windows 10 devices.</p>
<h3 id="administrative-units">Administrative Units</h3>
<p><a href="https://docs.microsoft.com/en-gb/azure/active-directory/roles/administrative-units" target="_blank">Administrative Units</a> restrict permissions in a role to any portion of your organization that you define. You could, for example, use administrative units to delegate the Help desk Administrator role to regional support specialists, so they can manage users only in the region that they support.</p>
<p>Administrative units require a premium licence.</p>
<h3 id="managing-groups-and-users">Managing Groups and Users</h3>
<p>Azure AD supports two types of Groups:</p>
<ul>
<li>Security groups are used to give group members access to applications, resources and assigned licences. Group members can be users, devices, service principals, and other groups.</li>
<li>Microsoft 365 groups are used for collaboration, giving members access to a share mailbox (requiring a group email address), calendar, files, SharePoint site etc. Group members can only be users.</li>
</ul>
<p>Membership of groups can be assigned (members must be assigned membership of the group manually) or dynamic (members are assigned based on some set or rules). Dynamic membership only applies to users and groups.</p>
<p>Azure AD supports two types of User:</p>
<ul>
<li>Organisation users (that must have an email address ending in either @xxx.onmicrosoft.com or a verified custom domain)</li>
<li>External users that can have any email address and are invited to join the tenant.</li>
</ul>
<h3 id="self-service-password-reset">Self-service Password Reset</h3>
<p>The <code>Password reset</code> setting in your AD tenant allows you to control which users are allowed to change their passwords. This is a premium licence feature and is off by default but can be enabled for all users or a set of groups.</p>
<h3 id="managing-devices">Managing Devices</h3>
<p>Devices cannot be added. Instead they have to be registered externally from the portal. Users may be given permission to add devices to the Azure AD.</p>
<p>In Windows 10, this can be done by selecting the <code>Connect to work or school</code> settings. In Windows 11, this is done via <code>Access work or school</code>.</p>
<p>Once a device is added we can control which permissions the device has.</p>
<h3 id="bulk-operations">Bulk operations</h3>
<p>Bulk operation allow an Azure AD administrator to:</p>
<ul>
<li>Bulk create users</li>
<li>Bulk invite guest users</li>
<li>Bulk delete users</li>
<li>Download users</li>
</ul>
<p>Bulk operations allow you to download a template CSV file, add rows, and upload a CSV files to create, invite or delete users.</p>
<h3 id="overview-of-rbac">Overview of RBAC</h3>
<p>RBAC (role-based access control) determines the permissions (authorisation) a user has after they have logged in (authentication).</p>
<p>Permissions are assigned via roles.</p>
<p>Azure AD roles can be grouped as:</p>
<ul>
<li>Administrative roles that grant administrative access to aspects of the Azure AD itself. These are configured in the <code>Roles and administrators</code> section of the portal. The highest level of administrator is the <code>Global administrator</code> and every AD must have at least one. Numerous predefined administrators are configured in Azure AD.</li>
<li>Resource roles provide access to Azure resources (VMs, Key vaults etc.) These roles are configured in the <code>Access Control (IAM)</code> options for the resource. Most resources have standard roles of <code>Owner</code> (can work with the resource and allow other people to work with the resource), <code>Contributor</code> (can work with the resource but cannot allow other people to), and <code>Reader</code> (can use the resource but not modify it). Resource roles are inherited - roles added at the subscription level are inherited at the resource group level and roles added at the resource group level are inherited by all resources in that group.</li>
<li>Enterprise application or custom applications grant permissions inside a specific application.</li>
</ul>
<h3 id="custom-rbac-roles">Custom RBAC Roles</h3>
<p>There are many predefined Administrative role and Resource roles and these roles can be applied to users or groups. Roles can be customised to grant the least permissions required.</p>
<p>To create administrative custom roles a P1 or P2 Premium licence is required.</p>
<p>Custom roles can be created for resource roles.</p>

</div>
        </main>
    </div>

    <six-sided-footer></six-sided-footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js" integrity="sha256-2N+3bVl+vOCJyZ9ZbH9Eb99XKT/53oT5V8eRbB8bFcA=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-33Qw0lN3qo7tLZL4c7vDLCapRUs+gNtQRaVIOHk4Ors=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.11.0/dist/mermaid.min.js"></script>
    
    <script>
        $(function() {
            mermaid.initialize({ startOnLoad: true, theme: 'dark' });
        });
    </script>
</body>
</html>
